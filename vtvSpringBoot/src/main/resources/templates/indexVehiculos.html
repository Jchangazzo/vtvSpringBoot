<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>VTV</title>
<meta charset="UTF-8">
</head>
<body>
	<header th:replace="plantilla :: header"></header>
	<h2>Vehiculos</h2>
<!-- 	<p th:text="${mensaje}"></p> -->
	<br/>
	<a th:href ="@{/agregarVehiculos}">Agregar Vehiculo</a>
	<br />
	<div th:if="${vehiculos != null and !vehiculos.empty}">
		<table border="1">
			<tr>
				<th>Patente</th>
				<th>Marca</th>
				<th>Modelo</th>
				<th>DNI propietario</th> 
				<th>Id</th>
			</tr>
			<tr th:each="vehiculo : ${vehiculos}">
				<td th:text="${vehiculo.dominio}">Mostrar dominio</td>
				<td th:text="${vehiculo.marca}">Mostrar marca</td>
				<td th:text="${vehiculo.modelo}">Mostrar modelo</td>
				<td th:text="${vehiculo.propietario.dni}">Mostrar DNI</td>  
				<td th:text="${vehiculo.id}">Mostrar Id</td>	
					
						
				<!-- puede haber errores en la siguiente linea sobre el nombre del campo
				
						PREGUNTA: como hago para acceder al dni desde el vehiculo?????
							puedo hacerlo desde la vista? ie del HTML??? o tengo que 
							o bien agregar un parametro extra al modelo desde el controller
							o bien agregar un campo nuevo a la clase vehiculo (esto ultimo complica las cosas)
							de todas formas solo el campo dni no es el unico problema ya que la vista sigue sin funcionar
							incluso si la linea que quere acceder al dni esta comentada
							
							la vista funciona cuando no hay vehìculos en la base de datos
							en cuanto yo agregue un vehìculo entonces no puede mostrar la lista
						 -->
				<!--  <td th:text="${vehiculo.propietario}">Mostrar DNI</td>--> 
				
				<td><a th:href="@{/editarVehiculo/}+${vehiculo.id}" th:text="Editar"></a></td>
				<td><a th:href="@{/eliminarVehiculo(id=${vehiculo.id})}" th:text="Eliminar"></a></td>
			</tr>
		</table>
	</div>
	<div th:if="${vehiculos == null or vehiculos.empty}">La lista de
		vehiculos está vacía
	</div>
	<br>
	<a th:href ="@{/}">Regresar</a>
	<br/>
</body>
</html>
